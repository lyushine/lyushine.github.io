<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>前端者</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="cocss-记录前端生活！cocss-记录前端生活！关注前端开发,重视用户体验,追求卓越,LYuShine,UED,Javascript,重构,ux,web前端开发">
<meta property="og:type" content="website">
<meta property="og:title" content="前端者">
<meta property="og:url" content="http://www.qianduaner.com/page/12/index.html">
<meta property="og:site_name" content="前端者">
<meta property="og:description" content="cocss-记录前端生活！cocss-记录前端生活！关注前端开发,重视用户体验,追求卓越,LYuShine,UED,Javascript,重构,ux,web前端开发">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="前端者">
<meta name="twitter:description" content="cocss-记录前端生活！cocss-记录前端生活！关注前端开发,重视用户体验,追求卓越,LYuShine,UED,Javascript,重构,ux,web前端开发">
  
    <link rel="alternative" href="/atom.xml" title="前端者" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
      <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css" type="text/css">
  
  
      <link href="//cdn.bootcss.com/jqueryui/1.10.4/css/jquery-ui.min.css" rel="stylesheet">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css" type="text/css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false,
      }
  </script>

  
      <script>
          yiliaConfig.rootUrl = "/";
      </script>
  

  
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">梁宇轩</a></h1>
        </hgroup>

        
        <p class="header-subtitle">努力奔跑在路的前端！</p>
        
                


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                            <li><a href="/links/">友情链接</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="Email"><a class="Email" target="_blank" href="mailto:lyushine@qq.com" title="Email"></a></li>
                            
                                <li id="GitHub"><a class="GitHub" target="_blank" href="https://github.com/lyushine" title="GitHub"></a></li>
                            
                                <li id="RSS"><a class="RSS" target="_blank" href="/atom.xml" title="RSS"></a></li>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/lyushine">GitHub</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">梁宇轩</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">梁宇轩</a></h1>
            </hgroup>
            
            <p class="header-subtitle">努力奔跑在路的前端！</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                    <li><a href="/links/">友情链接</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="Email"><a class="Email" target="_blank" href="mailto:lyushine@qq.com" title="Email"></a></li>
                            
                                <li id="GitHub"><a class="GitHub" target="_blank" href="https://github.com/lyushine" title="GitHub"></a></li>
                            
                                <li id="RSS"><a class="RSS" target="_blank" href="/atom.xml" title="RSS"></a></li>
                            
                        </ul>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post- DEDECMS问答(ask)模块游客匿名提问和解答" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/blog/2010-08-28- DEDECMS问答(ask)模块游客匿名提问和解答.html" class="article-date">
      <time datetime="2010-08-27T17:35:44.000Z" itemprop="datePublished">2010-08-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2010-08-28- DEDECMS问答(ask)模块游客匿名提问和解答.html">DEDECMS问答(ask)模块游客匿名提问和解答</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>先说一下实现后的效果，首先这个修改后是一个精简版的dedecms问答系统，会取消采纳答案等功能，因取消会员功能后不再有答案的等级之分，如对答案的平分功能等将被取消。</p>
<div>　　最后不建议使用匿名提问功能，建议使用会员功能来实现问答。这里是给大家提供一个学习的思路！</div><br><div>　　下面说一下方法：</div><br><div><br><br>　　<span style="color: #ff0000;">post.php文件</span><br>　　1，注释掉下面5行<br><br>　　if(empty($uid) &amp;&amp; $action != ‘rate’)<br>　　{<br>　　showmsgs(‘no_login’,’../member/login.php?gourl=../ask/‘);<br>　　exit;<br>　　}<br><br>　　2，注释掉<br><br>　　3，删除 <span style="color: #ff0000;">修改答案部分的全部php代码。即如下：</span><br>　　else if($action == ‘modifyanswer’)<br>　　{<br>　　$answer = $dsql-&gt;getone(“SELECT answer.id, answer.uid, ask.dateline, ask.solvetime, ask.status, ask.expiredtime FROM <code>dede_askanswer</code> answer left join dede_ask ask on ask.id=answer.askid WHERE answer.id=’$id’”);<br>　　if($answer)<br>　　{<br>　　if($answer[‘uid’] != $uid)<br>　　{<br>　　showmsgs(‘unallowed_action’, $backurl);<br>　　}elseif($answer[‘status’] != 0)<br>　　{<br>　　showmsgs(‘question_solved’, $backurl);<br>　　}elseif($answer[‘expiredtime’] &lt; $timestamp)<br>　　{<br>　　showmsgs(‘question_expired’, $backurl);<br>　　}<br>　　} else<br>　　{<br>　　showmsgs(‘question_nonexistence’);<br>　　}<br><br>　　if(trim($content) == ‘’)<br>　　{<br>　　showmsgs(‘post_answer_isnull’);<br>　　}<br>　　if(strlen($content) &gt; 10000)<br>　　{<br>　　showmsgs(‘post_answer_toolong’);<br>　　}<br>　　if(strlen($brief) &gt; 200)<br>　　{<br>　　showmsgs(‘post_brief_toolong’, ‘-1’);<br>　　}<br>　　if($dsql-&gt;ExecuteNoneQuery(“update dede_askanswer set content=’$content’, brief=’$brief’ where id=’$id’”))<br>　　{<br>　　showmsgs(‘modifyanswer_success’,$backurl);<br>　　}else<br>　　{<br>　　showmsgs(‘modifyanswer_failed’,$backurl);<br>　　}<br>　　}<br><br>　　<strong>question.php

</strong>　　注释<br>　　if($question[‘uid’] == $uid)<br>　　{<br>　　$publisher = 1;<br>　　}<br>　　免责声明：部分内容来自网络，如有侵犯，请联系我们删除或修改。<br><span style="color: #ff0000;">[在dedecms 5.5 经测可用！]</span><br><br></div>
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-修复DEDE5.6换肤只能根目录的问题" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/blog/2010-08-28-修复DEDE5.6换肤只能根目录的问题.html" class="article-date">
      <time datetime="2010-08-27T17:33:34.000Z" itemprop="datePublished">2010-08-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2010-08-28-修复DEDE5.6换肤只能根目录的问题.html">修复DEDE5.6换肤只能根目录的问题</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><a href="wp-content/uploads/2010/08/1.bmp"><img src="wp-content/uploads/2010/08/1.bmp" alt="" title="1"></a>来自，花雨大猫<a href="http://www.maoo.cc/" target="_blank" rel="external">http://www.maoo.cc</a></p>
<p>JQ上的路径错误问题，加一个设置安装目录路径就OK</p>
<p>var cmspath = “”;这里给你设置安装目录</p>
<p>原来的,DEDE5.6</p>
<p>function switchSkin(skinName){</p>
<p>  $(“#”+skinName).addClass(“selected”)  //当前<li>元素选中<br>  .siblings().removeClass(“selected”);  //去掉其他同辈</li><li>元素的选中<br>  $(“#cssfile”).attr(“href”,”/templets/default/style/“+ skinName +”.css”); //设置不同皮肤<br>  $.cookie( “MyCssSkin”,skinName, {path: ‘/‘, expires: 10 });<br>}</li></p>
<p>修复后的 </p>
<p>function switchSkin(skinName){<br>  var cmspath = “/dede56”;<br>  $(“#”+skinName).addClass(“selected”)  //当前<li>元素选中<br>  .siblings().removeClass(“selected”);  //去掉其他同辈</li><li>元素的选中<br>  $(“#cssfile”).attr(“href”,cmspath+”/templets/default/style/“+ skinName +”.css”); //设置不同皮肤<br>  $.cookie( “MyCssSkin”,skinName, {path: ‘/‘, expires: 10 });<br>}</li></p>
<p>然后，大猫做了代码优化，，虽然现在刚琢磨了半天看不懂，先存下来吧，左边的是修复后代码，右边的是优化代码<a href="http://photo.blog.sina.com.cn/showpic.html#blogid=624ec25a0100itfa&amp;url=http://static8.photo.sina.com.cn/orignal/624ec25ah89c47884eeb7" target="_blank" rel="external"></a></p>
<p> 把代码做了一下优化，减少了一个请求数。。。。</p>
<p>打开\templets\default\index.htm，把</p>
<p><link href="{dede:global.cfg_templets_skin/}/style/dedecms.css" rel="stylesheet" media="screen" type="text/css"></p>
<link rel="stylesheet" href="{dede:global.cfg_templets_skin/}/style/dedecms_skins_0.css" type="text/css" id="cssfile">

<p>改为<link href="{dede:global.cfg_templets_skin/}/style/dedecms.css" rel="stylesheet" type="text/css" media="screen" id="maincss"></p>
<p>这样在用户使用默认皮肤的时候只产生1个CSS请求。</p>
<p>再打开changeSkin.js，覆盖贴入以下代码</p>
<p>原文~~~<br>//网站换肤<br>$(function(){<br>      addEvent();<br>});</p>
<p>function switchSkin(skinName){<br>        var cmspath = “/dede56”;<br>        $(“#”+skinName).addClass(“selected”)  //当前<li>元素选中<br>        .siblings().removeClass(“selected”);  //去掉其他同辈</li><li>元素的选中<br>        $(“#skincss”).remove();<br>        $(“#maincss”).after(“<link href="\""+cmspath+"/templets/default/style/"+skinName+".css\"" rel="stylesheet" type="text/css" id="skincss">“);<br>        $.cookie( “MyCssSkin”,skinName, {path: ‘/‘, expires: 10 });<br>}</li></p>
<p>function addEvent(){<br>        var $li =$(“#dedecms_skins li”).not(“:eq(0)”);<br>        $li.click(function(){<br>            switchSkin(this.id );<br>        });<br>        $(“#dedecms_skins li:eq(0)”).click(function(){<br>            $(“#skincss”).remove();<br>            $(this).addClass(“selected”).siblings().removeClass(“selected”);<br>            $.cookie( “MyCssSkin”,null, {path: ‘/‘});<br>        })<br>        var cookie_skin = $.cookie(“MyCssSkin”);<br>        if (cookie_skin) {<br>            switchSkin(cookie_skin);<br>        };<br>}</p>
<p>OK了，看效果前记得更新主页静态哦。。。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-THINKPHP公共类的优化，提高代码会从用" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/blog/2010-08-04-THINKPHP公共类的优化，提高代码会从用.html" class="article-date">
      <time datetime="2010-08-03T18:27:03.000Z" itemprop="datePublished">2010-08-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2010-08-04-THINKPHP公共类的优化，提高代码会从用.html">THINKPHP公共类的优化，提高代码会从用</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>转自：THINKPHP官网 ID为：飞云盖天</p>
<p>原文内容：</p>
<p>看了leon_studio兄的“善用基类,加快程序开发节奏”文章深受启发。本想全盘照搬，但是仔细一分析，和我的项目有些不合适的地方。<br>于是将我的项目Action中的操作降低粒度，并将常用操作抽象为一个公共类，发现编码效率大大提高，许多Action几乎不需要写代码就可以工作了。现将我的成果共享出来，欢迎批评！<br>首先在lib/Action下建立PublicAction.class.php</p>
<p><pre style="margin: 15px 0; font: 100 12px/18px monaco, andale mono, courier new; padding: 10px 12px; border: #ccc 1px solid; border-left-width: 4px; background-color: #fefefe; box-shadow: 0 0 4px #eee; word-break: break-all; word-wrap: break-word; color: #444;"><span style="color: #555;">&lt;?php</span><br>    <span style="color: #708;">class</span> <span style="color: #@cm-word;">PublicAction</span> <span style="color: #708;">extends</span> <span style="color: #@cm-word;">Action</span><br>    {<br>    <span style="color: #708;">protected</span> <span style="color: #000-2;">$config</span> <span style="color: #000;">=</span> <span style="color: #708;">array</span><br>    (<br>      <span style="color: #a11;">‘model’</span>     <span style="color: #000;">=&gt;</span><span style="color: #a11;">‘’</span>,  <span style="color: #a50;">//手工定义模型名称</span><br>      <span style="color: #a11;">‘rule’</span>      <span style="color: #000;">=&gt;</span><span style="color: #a11;">‘time’</span>, <span style="color: #a50;">//上传文件名</span><br>      <span style="color: #a11;">‘verify’</span>    <span style="color: #000;">=&gt;</span><span style="color: #219;">false</span>, <span style="color: #a50;">//插入数据时是否需要验证码</span><br>      <span style="color: #a11;">‘jumpurl’</span> <span style="color: #000;">=&gt;</span><span style="color: #a11;">‘’</span>,  <span style="color: #a50;">//手工定义删除成功后的跳转地址</span><br>      <span style="color: #a11;">‘condition’</span> <span style="color: #000;">=&gt;</span><span style="color: #a11;">‘’</span>,  <span style="color: #a50;">//手工定义index的条件</span><br>      <span style="color: #a11;">‘sort’</span>      <span style="color: #000;">=&gt;</span><span style="color: #a11;">‘id desc’</span>,<span style="color: #a50;">//index的排序方式</span><br>      <span style="color: #a11;">‘page’</span>      <span style="color: #000;">=&gt;</span><span style="color: #219;">true</span>,  <span style="color: #a50;">//index是否分页</span><br>        );<br>        <span style="color: #708;">protected</span> <span style="color: #708;">function</span> <span style="color: #@cm-word;">_initialize</span>()<br>        {<br>          <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">config</span>[<span style="color: #a11;">‘model’</span>] <span style="color: #000;">=</span> (<span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">config</span>[<span style="color: #a11;">‘model’</span>]<span style="color: #000;">==</span><span style="color: #a11;">‘’</span>)<span style="color: #000;">?</span><span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">getActionName</span>():<span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">config</span>[<span style="color: #a11;">‘model’</span>];<br>          <span style="color: #a50;">//控制器初始化</span><br>          <span style="color: #708;">if</span>(<span style="color: #@cm-word;">method_exists</span>(<span style="color: #000-2;">$this</span>,<span style="color: #a11;">‘_appInit’</span>)) <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">_appInit</span>();<br>        }<br>        <span style="color: #a50;">// 图形验证码</span><br>    <span style="color: #708;">public</span> <span style="color: #708;">function</span> <span style="color: #@cm-word;">verify</span>()<br>    {<br>      <span style="color: #000-2;">$type</span> <span style="color: #000;">=</span> <span style="color: #708;">isset</span>(<span style="color: #000-2;">$_GET</span>[<span style="color: #a11;">‘type’</span>])<span style="color: #000;">?</span><span style="color: #000-2;">$_GET</span>[<span style="color: #a11;">‘type’</span>]:<span style="color: #a11;">‘gif’</span>;<br>      <span style="color: #@cm-word;">import</span>(<span style="color: #a11;">“ORG.Util.Image”</span>);<br>      <span style="color: #@cm-word;">Image</span>::<span style="color: #@cm-word;">buildImageVerify</span>(<span style="color: #164;">4</span>,<span style="color: #164;">1</span>,<span style="color: #000-2;">$type</span>);<br>    }<br>    <span style="color: #a50;">// 文件上传</span><br>        <span style="color: #708;">public</span> <span style="color: #708;">function</span> <span style="color: #@cm-word;">upload</span>()<br>        {<br>            <span style="color: #@cm-word;">import</span>(<span style="color: #a11;">“ORG.Net.UploadFile”</span>);<br>      <span style="color: #000-2;">$upload</span> <span style="color: #000;">=</span> <span style="color: #708;">new</span> <span style="color: #@cm-word;">UploadFile</span>();<br>      <span style="color: #000-2;">$upload</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">maxSize</span>  <span style="color: #000;">=</span> <span style="color: #164;">10241024</span> ;<span style="color: #a50;">//设置上传文件大小</span><br>      <span style="color: #000-2;">$upload</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">allowExts</span>  <span style="color: #000;">=</span> <span style="color: #708;">array</span>(<span style="color: #a11;">‘jpg’</span>,<span style="color: #a11;">‘gif’</span>,<span style="color: #a11;">‘png’</span>);<span style="color: #a50;">//设置上传文件类型</span><br>      <span style="color: #000-2;">$upload</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">savePath</span> <span style="color: #000;">=</span> <span style="color: #a11;">‘Public/upload/‘</span>;  <span style="color: #a50;">//图片根目录</span><br>      <span style="color: #000-2;">$upload</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">saveRule</span> <span style="color: #000;">=</span> <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">config</span>[<span style="color: #a11;">‘rule’</span>];<span style="color: #a50;">//指定文件名</span><br>      <span style="color: #000-2;">$upload</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">uploadReplace</span> <span style="color: #000;">=</span> <span style="color: #219;">true</span>;<span style="color: #a50;">//同名文件覆盖</span><br>            <span style="color: #708;">if</span>(<span style="color: #000;">!</span><span style="color: #000-2;">$upload</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">upload</span>())<br>      {<br>                <span style="color: #a50;">//捕获上传异常</span><br>                <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">error</span>(<span style="color: #000-2;">$upload</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">getErrorMsg</span>());<br>            }<br>      <span style="color: #708;">else</span><br>      {<br>                <span style="color: #000-2;">$uploadList</span> <span style="color: #000;">=</span> <span style="color: #000-2;">$upload</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">getUploadFileInfo</span>();<br>       <span style="color: #000-2;">$dao</span> <span style="color: #000;">=</span> <span style="color: #@cm-word;">D</span>(<span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">config</span>[<span style="color: #a11;">‘model’</span>]);<br>       <span style="color: #000-2;">$list</span> <span style="color: #000;">=</span> <span style="color: #000-2;">$dao</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">where</span>(<span style="color: #a11;">‘id= ‘</span>.<span style="color: #000-2;">$_POST</span>[<span style="color: #a11;">‘id’</span>])<br>                            <span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">setField</span>(<span style="color: #a11;">‘image’</span>,<span style="color: #000-2;">$uploadList</span>[<span style="color: #164;">0</span>][<span style="color: #a11;">‘savename’</span>]);<br>       <span style="color: #708;">if</span>(<span style="color: #000-2;">$list</span><span style="color: #000;">!==</span><span style="color: #219;">false</span>)<br>       {<br>        <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">success</span>(<span style="color: #a11;">‘上传图片成功！’</span>);<br>       }<br>       <span style="color: #708;">else</span><br>       {<br>        <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">error</span> (<span style="color: #a11;">‘上传图片失败!’</span>);<br>       }<br>            }<br>    }<br>        <span style="color: #708;">public</span> <span style="color: #708;">function</span> <span style="color: #@cm-word;">add</span>()<br>    {<br>            <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">display</span>();<br>        }<br>    <span style="color: #a50;">// 插入记录</span><br>    <span style="color: #708;">public</span> <span style="color: #708;">function</span> <span style="color: #@cm-word;">insert</span>()<br>    {<br>      <span style="color: #a50;">//验证码验证</span><br>      <span style="color: #708;">if</span>(<span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">config</span>[<span style="color: #a11;">‘verify’</span>])<br>      {<br>       <span style="color: #708;">if</span>(<span style="color: #000-2;">$_SESSION</span>[<span style="color: #a11;">‘verify’</span>] <span style="color: #000;">!=</span> <span style="color: #@cm-word;">md5</span>(<span style="color: #000-2;">$_POST</span>[<span style="color: #a11;">‘verify’</span>]))<br>       {<br>        <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">error</span>(<span style="color: #a11;">‘验证码错误！’</span>);<br>       }<br>      }<br>      <span style="color: #000-2;">$dao</span> <span style="color: #000;">=</span> <span style="color: #@cm-word;">D</span>(<span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">config</span>[<span style="color: #a11;">‘model’</span>]);<br>      <span style="color: #708;">if</span>(<span style="color: #000-2;">$dao</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">create</span>())<br>      {<br>       <span style="color: #708;">if</span>(<span style="color: #000-2;">$dao</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">add</span>() <span style="color: #000;">!==</span> <span style="color: #219;">false</span>)<br>       {<br>        <span style="color: #000-2;">$_SERVER</span>[<span style="color: #a11;">‘HTTP_REFERER’</span>] <span style="color: #000;">=</span> <span style="color: #@cm-word;">auto_charset</span>(<span style="color: #000-2;">$_SERVER</span>[<span style="color: #a11;">‘HTTP_REFERER’</span>],<span style="color: #a11;">‘gbk’</span>,<span style="color: #a11;">‘utf-8’</span>);<br>        <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">success</span>(<span style="color: #a11;">‘提交成功！’</span>);<br>                }<br>       <span style="color: #708;">else</span><br>       {<br>                    <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">error</span>(<span style="color: #a11;">‘数据写入错误’</span>);<br>             }<br>      }<br>      <span style="color: #708;">else</span><br>      {<br>       <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">error</span>(<span style="color: #000-2;">$dao</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">getError</span>());<br>      }<br>    }<br>    <span style="color: #a50;">// 删除记录</span><br>    <span style="color: #708;">public</span> <span style="color: #708;">function</span> <span style="color: #@cm-word;">delete</span>()<br>    {<br>      <span style="color: #000-2;">$id</span> <span style="color: #000;">=</span> <span style="color: #@cm-word;">is_array</span>(<span style="color: #000-2;">$_REQUEST</span>[<span style="color: #a11;">‘id’</span>])<span style="color: #000;">?</span><span style="color: #@cm-word;">implode</span>(<span style="color: #a11;">‘,’</span>,<span style="color: #000-2;">$_REQUEST</span>[<span style="color: #a11;">‘id’</span>]):<span style="color: #000-2;">$_REQUEST</span>[<span style="color: #a11;">‘id’</span>];<br>      <span style="color: #000-2;">$dao</span> <span style="color: #000;">=</span> <span style="color: #@cm-word;">M</span>(<span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">config</span>[<span style="color: #a11;">‘model’</span>]);<br>      <span style="color: #708;">if</span>(<span style="color: #000-2;">$dao</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">delete</span>(<span style="color: #000-2;">$id</span>) <span style="color: #000;">!==</span> <span style="color: #219;">false</span>)<br>      {<br>       <span style="color: #708;">if</span>(<span style="color: #000-2;">$jumpurl</span>)<br>       {<br>        <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">assign</span>(<span style="color: #a11;">“jumpUrl”</span>,<span style="color: #000-2;">$jumpurl</span>);<br>       }<br>       <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">success</span>(<span style="color: #a11;">‘提交成功！’</span>);<br>      }<br>      <span style="color: #708;">else</span><br>      {<br>       <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">error</span>(<span style="color: #a11;">‘数据删除失败’</span>);<br>      }<br>    }<br>        <span style="color: #a50;">// 更新记录</span><br>    <span style="color: #708;">public</span> <span style="color: #708;">function</span> <span style="color: #@cm-word;">update</span>()<br>    {<br>      <span style="color: #000-2;">$dao</span> <span style="color: #000;">=</span> <span style="color: #@cm-word;">D</span>(<span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">config</span>[<span style="color: #a11;">‘model’</span>]);<br>      <span style="color: #708;">if</span>(<span style="color: #000-2;">$dao</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">create</span>())<br>      {<br>       <span style="color: #708;">if</span>(<span style="color: #000-2;">$dao</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">save</span>() <span style="color: #000;">!==</span> <span style="color: #219;">false</span>)<br>       {<br>        <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">success</span>(<span style="color: #a11;">‘提交成功！’</span>);<br>                }<br>       <span style="color: #708;">else</span><br>       {<br>        <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">error</span>(<span style="color: #a11;">‘数据写入错误’</span>);<br>             }<br>      }<br>      <span style="color: #708;">else</span><br>      {<br>       <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">error</span>(<span style="color: #000-2;">$dao</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">getError</span>());<br>      }<br>    }<br>    <span style="color: #a50;">// 查询多条记录</span><br>    <span style="color: #708;">public</span> <span style="color: #708;">function</span> <span style="color: #@cm-word;">index</span>()<br>    {<br>      <span style="color: #000-2;">$dao</span> <span style="color: #000;">=</span> <span style="color: #@cm-word;">M</span>(<span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">config</span>[<span style="color: #a11;">‘model’</span>]);<br>      <span style="color: #000-2;">$firstRow</span> <span style="color: #000;">=</span> <span style="color: #164;">0</span>;<br>      <span style="color: #000-2;">$listRows</span> <span style="color: #000;">=</span> <span style="color: #a11;">‘18446744073709551615’</span>;<br>      <span style="color: #708;">if</span>(<span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">config</span>[<span style="color: #a11;">‘page’</span>])<br>      {<br>       <span style="color: #@cm-word;">Import</span>(<span style="color: #a11;">“ORG.Util.Page”</span>);<br>       <span style="color: #000-2;">$count</span> <span style="color: #000;">=</span> <span style="color: #000-2;">$dao</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">where</span>(<span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">config</span>[<span style="color: #a11;">‘condition’</span>])<br>           <span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">count</span>();<br>       <span style="color: #000-2;">$page</span> <span style="color: #000;">=</span> <span style="color: #708;">new</span> <span style="color: #@cm-word;">Page</span>(<span style="color: #000-2;">$count</span>,<span style="color: #164;">10</span>);<br>       <span style="color: #000-2;">$p</span> <span style="color: #000;">=</span> <span style="color: #000-2;">$page</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">show</span>();<br>       <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">assign</span>(<span style="color: #a11;">‘p’</span>,<span style="color: #000-2;">$p</span>);<br>       <span style="color: #000-2;">$firstRow</span> <span style="color: #000;">=</span> <span style="color: #000-2;">$page</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">firstRow</span>;<br>       <span style="color: #000-2;">$listRows</span> <span style="color: #000;">=</span> <span style="color: #000-2;">$page</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">listRows</span>;<br>      }<br>      <span style="color: #000-2;">$volist</span> <span style="color: #000;">=</span> <span style="color: #000-2;">$dao</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">order</span>(<span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">config</span>[<span style="color: #a11;">‘sort’</span>])<br>                          <span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">where</span>(<span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">config</span>[<span style="color: #a11;">‘condition’</span>])<br>                          <span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">limit</span>(<span style="color: #000-2;">$firstRow</span>.<span style="color: #a11;">‘,’</span>.<span style="color: #000-2;">$listRows</span>)<br>                          <span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">select</span>();<br>      <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">assign</span>(<span style="color: #a11;">‘volist’</span>,<span style="color: #000-2;">$volist</span>);<br>      <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">display</span>();<br>    }<br>    <span style="color: #a50;">// 查询单条记录</span><br>    <span style="color: #708;">public</span> <span style="color: #708;">function</span> <span style="color: #@cm-word;">show</span>()<br>    {<br>           <span style="color: #000-2;">$id</span> <span style="color: #000;">=</span> <span style="color: #000-2;">$_GET</span>[<span style="color: #a11;">‘id’</span>]<span style="color: #000;">?</span><span style="color: #000-2;">$_GET</span>[<span style="color: #a11;">‘id’</span>]:<span style="color: #164;">1</span>;<br>      <span style="color: #000-2;">$dao</span> <span style="color: #000;">=</span> <span style="color: #@cm-word;">M</span>(<span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">config</span>[<span style="color: #a11;">‘model’</span>]);<br>      <span style="color: #000-2;">$vo</span> <span style="color: #000;">=</span> <span style="color: #000-2;">$dao</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">find</span>(<span style="color: #000-2;">$id</span>);<br>      <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">assign</span>(<span style="color: #a11;">‘vo’</span>,<span style="color: #000-2;">$vo</span>);<br>      <span style="color: #000-2;">$this</span><span style="color: #000;">-&gt;</span><span style="color: #@cm-word;">display</span>();<br>    }<br>   }<br><span style="color: #555;">?&gt;</span></pre><br>大家可能发现了，该类的所有成员函数都没有参数，而是通过成员变量来引入外部参数，这样做的好处是可以在Action中很方面的通过一个_appInit()函数就可以对所有参数进行赋值，倘若默认参数无需修改，则Action中无须任何函数即可运行，代码清爽整齐（起码我是这样认为的）。<br>其中，模型名称默认采用与控制器相同的名称，即（控制器、模型、数据表）名称一致方式来设计程序。<br>当访问不同的控制器时，TP自动实例化对应的模型，实现全自动。<br>也许大家要问了，如果遇到控制器、模型不一致该怎么办，没关系，只需要在Action中_appInit()里定义<br><!--?php     class IndexAction extends PublicAction     {         protected function _appInit()//更改index默认的‘index’ model为'base'     {       $this--->config[‘model’] = ‘Base’;<br>}<br>?&gt;</p>
<p>当实际的控制器与Public中的控制器不一致时，只需要利用php的继承覆盖机制即可</p>
<p><pre style="margin: 15px 0; font: 100 12px/18px monaco, andale mono, courier new; padding: 10px 12px; border: #ccc 1px solid; border-left-width: 4px; background-color: #fefefe; box-shadow: 0 0 4px #eee; word-break: break-all; word-wrap: break-word; color: #444;">    public function index()//index()被show()覆盖<br>    {<br>            $this-&gt;show();<br>     }</pre><br>当然了，我抽象出的这个公共类肯定也并非最佳方案，欢迎大家共同讨论</p>
<p>==============================分割线===================================</p>
<p>lyushine:开发速度和效率提高了，代码的重用率提高了，但是我不知道而PHP代码的编译的速度是不是会降低了，继承覆盖机制  应该对系统开销有所损耗吧。个人猜想，仅供娱乐。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-e3-80-90-e4-bd-9c-e5-93-81-e3-80-91-e6-b9-96-e5-8d-97-e7-a7-91-e6-8a-80-e5-a4-a7-e5-ad-a6-e7-ba-aa-e5-a7-94-e7-9b-91-e5-af-9f-e5-a4-84" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/blog/2010-05-27-e3-80-90-e4-bd-9c-e5-93-81-e3-80-91-e6-b9-96-e5-8d-97-e7-a7-91-e6-8a-80-e5-a4-a7-e5-ad-a6-e7-ba-aa-e5-a7-94-e7-9b-91-e5-af-9f-e5-a4-84.html" class="article-date">
      <time datetime="2010-05-27T00:14:17.000Z" itemprop="datePublished">2010-05-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2010-05-27-e3-80-90-e4-bd-9c-e5-93-81-e3-80-91-e6-b9-96-e5-8d-97-e7-a7-91-e6-8a-80-e5-a4-a7-e5-ad-a6-e7-ba-aa-e5-a7-94-e7-9b-91-e5-af-9f-e5-a4-84.html">【作品】湖南科技大学纪委监察处</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><a href="wp-content/uploads/2011/04/jiwei.jpg"><img src="wp-content/uploads/2011/04/jiwei-300x275.jpg" alt="" title="jiwei"></a></p>
<p><strong>作品名称：湖南科技大学纪委监察处</strong><br><strong>完成时间：2010年5月</strong><br><strong>作品简介：</strong>湖南科技大学纪委监察处是第一个以团队多人参与的项目，以红色作为主色调示意监察，在此系统中为纪委监察处特别开发了一个举报系统。<br><strong>作品演示：</strong>【<a href="http://dep2.hnust.cn:9080/jw" target="_blank" rel="external">查看演示</a>】</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-e7-8e-89-e6-a0-91-e5-88-ab-e5-93-ad-e3-80-90-e6-b9-98-e6-bd-ad-e5-a4-a7-e5-ad-a6-e5-9b-bd-e5-9f-9f-e6-9d-af-e4-b8-80-e7-ad-89-e5-a5-96-e3-80-91" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/blog/2010-05-20-e7-8e-89-e6-a0-91-e5-88-ab-e5-93-ad-e3-80-90-e6-b9-98-e6-bd-ad-e5-a4-a7-e5-ad-a6-e5-9b-bd-e5-9f-9f-e6-9d-af-e4-b8-80-e7-ad-89-e5-a5-96-e3-80-91.html" class="article-date">
      <time datetime="2010-05-20T00:22:23.000Z" itemprop="datePublished">2010-05-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2010-05-20-e7-8e-89-e6-a0-91-e5-88-ab-e5-93-ad-e3-80-90-e6-b9-98-e6-bd-ad-e5-a4-a7-e5-ad-a6-e5-9b-bd-e5-9f-9f-e6-9d-af-e4-b8-80-e7-ad-89-e5-a5-96-e3-80-91.html">玉树别哭【湘潭大学国域杯一等奖】 </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><a href="wp-content/uploads/2011/04/yushubieku.jpg"><img src="wp-content/uploads/2011/04/yushubieku-1024x691.jpg" alt="" title="玉树别哭湘潭大学网页设计大赛一等奖"></a><strong>作品名称：玉树别哭</strong><br><strong>完成时间：2010年5月</strong><br><strong>作品简介：</strong>为参加湘潭大学网页设计大赛的作品，获一等奖。以灰色色调诠释主题，html+css是基于原档案馆作品进行重构改版而成。<br><strong>相关报道：</strong>【<a href="http://asxtu.com/p/2010/0516/1087.html" target="_blank" rel="external">查看新闻</a>】     最终，经过专业评委组的反复审度和斟酌，由来自兴湘09级英语六班的黄诗蕾和来自湖南科技大学的梁宇轩组成的团队夺得了桂冠。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-e3-80-90-e4-bd-9c-e5-93-81-e3-80-91-e6-b9-96-e5-8d-97-e7-a7-91-e6-8a-80-e5-a4-a7-e5-ad-a6-e6-a1-a3-e6-a1-88-e9-a6-86" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/blog/2009-12-15-e3-80-90-e4-bd-9c-e5-93-81-e3-80-91-e6-b9-96-e5-8d-97-e7-a7-91-e6-8a-80-e5-a4-a7-e5-ad-a6-e6-a1-a3-e6-a1-88-e9-a6-86.html" class="article-date">
      <time datetime="2009-12-15T01:38:09.000Z" itemprop="datePublished">2009-12-15</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2009-12-15-e3-80-90-e4-bd-9c-e5-93-81-e3-80-91-e6-b9-96-e5-8d-97-e7-a7-91-e6-8a-80-e5-a4-a7-e5-ad-a6-e6-a1-a3-e6-a1-88-e9-a6-86.html">【作品】湖南科技大学档案馆</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><a href="wp-content/uploads/2010/08/湖南科技大学档案馆2.jpg"><img src="wp-content/uploads/2010/08/%E6%B9%96%E5%8D%97%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%E6%A1%A3%E6%A1%88%E9%A6%862.jpg" alt="" title="湖南科技大学档案馆2"></a></p>
<p><strong>作品简介：</strong>这是lyushine制作的第一个整站，从PSD设计图到DIV+CSS静态页到最后上PHP程序一路到底，当时还不会用DEDE和自己编写后台程序而是先把事情接下来然后在必须完成的压力下用了大概2个多小时将DEDE的模板机制学习领会了一点，整站就制作完毕了。第一个东东，当然所体现的自身价值也是很低的，学校里的项目一般的也都是非常廉价的，而要求的也颇多，虽然制作完成了，但是期间却还有各种繁琐之事。<br><strong>完成时间：</strong>2009年12月<br><strong>作品演示：</strong>【<a href="http://dep2.hnust.edu.cn:9080/danganguan/index.html" target="_blank" rel="external">查看演示</a>】</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/11/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2016 梁宇轩
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的静态博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减双栏 Hexo 博客主题">Yelee</a> by MOxFIVE
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >本站到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 4;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>




<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>

<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>


    <script src="//cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js"></script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>